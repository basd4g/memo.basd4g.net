---
title: "Pocketにツイートを保存したらリツイートする"
date: "2020-12-15T18:27:23+09:00"
---

題名のスクリプトを作ってcronで定期実行したら便利だった話。

## 背景

Twitter アカウントがいくつかある。[^1]
情報を浴びるように流しているアカウントだったり、情報の種類別だったり、使っていないものだったり。

PC で Twitter を見るときは大体 [TweetDeck](https://tweetdeck.twitter.com)を使っておりこれは結構使いやすい。
一方で iOS ではマルチアカウントで満足する Twitter クライアントを見つけられていない。 (今は [feather](https://apps.apple.com/jp/app/feather-for-twitter/id793157344) を使っている。)

具体的には次のような機能がほしい。

- ユーザを別アカウントでフォローする
- ツイートを別アカウントでリツイートする

## 作ったもの

作ったものはこちら: [pocket2retweet - GitHub](https://github.com/yammerjp/pocket2retweet)

対象のユーザとツイートを [Pocket](https://getpocket.com) に記録し、あとからバッチ処理するようにした。

次の2つの機能をもつスクリプトを cron で1時間ごとに定期実行する。

- Pocket に保存されているツイートを Pocket API で取得し、Twitter API でリツイートしたあと、Pocket から削除する。
- Pocket に保存されている Twitter ユーザページ を Pocket API で取得し、Twitter API でフォローしたあと、Pocket から削除する。

API の条件的には1分に1回くらいでもいいくらいだが、多少遅れても困らないので1時間に1回としている。

## 感想

我ながら便利。

Pocket への保存はアプリ間共有で Pocket を選べばよいだけなので、Web ブラウザでもアプリでも、iOS に限らず使える。

もともと Pocket に保存したツイートは Pocket のページからは見づらかったので、リツイートしたものから探すほうがみやすくてよい感じ。

Pocket の現状の自分の使い方では、保存するのは楽でいいけどけど整理されていないし読みづらいみたいなところがある。
もっと活用できそうな気がするので、他のサービスともいい感じに連携して便利にする方法を考えていきたい。

[^1]: リスト機能を使って1つのアカウントでやれやという意見もあるだろう。以前はそうしていたのだがリスト管理が面倒な気がして、今はアカウントを分けてフォローしたほうが楽だと思っている。

